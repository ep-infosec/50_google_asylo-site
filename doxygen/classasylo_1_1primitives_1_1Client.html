<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asylo: asylo::primitives::Client Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="/favicons/favicon.ico" rel="shortcut icon" type="image/x-icon"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asylo
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceasylo.html">asylo</a></li><li class="navelem"><a class="el" href="namespaceasylo_1_1primitives.html">primitives</a></li><li class="navelem"><a class="el" href="classasylo_1_1primitives_1_1Client.html">Client</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="classasylo_1_1primitives_1_1Client-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">asylo::primitives::Client Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>A reference to an enclave held by untrusted code.  
 <a href="classasylo_1_1primitives_1_1Client.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="untrusted__primitives_8h_source.html">asylo/platform/primitives/untrusted_primitives.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for asylo::primitives::Client:</div>
<div class="dyncontent">
<div class="center"><img src="classasylo_1_1primitives_1_1Client__inherit__graph.png" border="0" usemap="#asylo_1_1primitives_1_1Client_inherit__map" alt="Inheritance graph"/></div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for asylo::primitives::Client:</div>
<div class="dyncontent">
<div class="center"><img src="classasylo_1_1primitives_1_1Client__coll__graph.png" border="0" usemap="#asylo_1_1primitives_1_1Client_coll__map" alt="Collaboration graph"/></div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classasylo_1_1primitives_1_1Client_1_1ExitCallProvider.html">ExitCallProvider</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">An interface to a provider of enclave exit calls.  <a href="classasylo_1_1primitives_1_1Client_1_1ExitCallProvider.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classasylo_1_1primitives_1_1Client_1_1ScopedCurrentClient.html">ScopedCurrentClient</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">An RAII wrapper that sets thread-local enclave "current client" reference on construction and resets it to the previous value when destroyed.  <a href="classasylo_1_1primitives_1_1Client_1_1ScopedCurrentClient.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a96ed27595ce58d034fc50a29d5fca9d6"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classasylo_1_1primitives_1_1Client.html#a96ed27595ce58d034fc50a29d5fca9d6">~Client</a> ()</td></tr>
<tr class="separator:a96ed27595ce58d034fc50a29d5fca9d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad13f0b5753af3a8733d3158f4c1655f9"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classasylo_1_1Status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classasylo_1_1primitives_1_1Client.html#ad13f0b5753af3a8733d3158f4c1655f9">RegisterExitHandlers</a> () ASYLO_MUST_USE_RESULT</td></tr>
<tr class="memdesc:ad13f0b5753af3a8733d3158f4c1655f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">An overridable handler registration method.  <a href="#ad13f0b5753af3a8733d3158f4c1655f9">More...</a><br /></td></tr>
<tr class="separator:ad13f0b5753af3a8733d3158f4c1655f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbaea700c89a7064bbc3148e5607d577"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classasylo_1_1primitives_1_1Client.html#afbaea700c89a7064bbc3148e5607d577">IsClosed</a> () const =0</td></tr>
<tr class="memdesc:afbaea700c89a7064bbc3148e5607d577"><td class="mdescLeft">&#160;</td><td class="mdescRight">A predicate for whether the enclave may be entered or will accept messages.  <a href="#afbaea700c89a7064bbc3148e5607d577">More...</a><br /></td></tr>
<tr class="separator:afbaea700c89a7064bbc3148e5607d577"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7835fe159260bad7d9928fd16214058c"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classasylo_1_1Status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classasylo_1_1primitives_1_1Client.html#a7835fe159260bad7d9928fd16214058c">Destroy</a> ()=0</td></tr>
<tr class="separator:a7835fe159260bad7d9928fd16214058c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13b445fb6c5b8d7f822bee216555472e"><td class="memItemLeft" align="right" valign="top">virtual absl::string_view&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classasylo_1_1primitives_1_1Client.html#a13b445fb6c5b8d7f822bee216555472e">Name</a> () const</td></tr>
<tr class="memdesc:a13b445fb6c5b8d7f822bee216555472e"><td class="mdescLeft">&#160;</td><td class="mdescRight">A getter for the enclave name.  <a href="#a13b445fb6c5b8d7f822bee216555472e">More...</a><br /></td></tr>
<tr class="separator:a13b445fb6c5b8d7f822bee216555472e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b228b4b1961083c2a0f47165d80793a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classasylo_1_1primitives_1_1Client.html#a6b228b4b1961083c2a0f47165d80793a">SetCurrentClient</a> ()</td></tr>
<tr class="memdesc:a6b228b4b1961083c2a0f47165d80793a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores <code>this</code> as the active thread's "current client".  <a href="#a6b228b4b1961083c2a0f47165d80793a">More...</a><br /></td></tr>
<tr class="separator:a6b228b4b1961083c2a0f47165d80793a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e147a8b696d50b98ea4cefe56c90b82"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classasylo_1_1Status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classasylo_1_1primitives_1_1Client.html#a8e147a8b696d50b98ea4cefe56c90b82">EnclaveCall</a> (uint64_t selector, MessageWriter *input, MessageReader *output) ASYLO_MUST_USE_RESULT</td></tr>
<tr class="memdesc:a8e147a8b696d50b98ea4cefe56c90b82"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enters the enclave synchronously at an entry point to trusted code designated by <code>selector</code>.  <a href="#a8e147a8b696d50b98ea4cefe56c90b82">More...</a><br /></td></tr>
<tr class="separator:a8e147a8b696d50b98ea4cefe56c90b82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26e2442b1b04aef8314beb267e5389f2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classasylo_1_1primitives_1_1Client_1_1ExitCallProvider.html">ExitCallProvider</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classasylo_1_1primitives_1_1Client.html#a26e2442b1b04aef8314beb267e5389f2">exit_call_provider</a> ()</td></tr>
<tr class="memdesc:a26e2442b1b04aef8314beb267e5389f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accessor to the client's exit call provider.  <a href="#a26e2442b1b04aef8314beb267e5389f2">More...</a><br /></td></tr>
<tr class="separator:a26e2442b1b04aef8314beb267e5389f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada6c3b37726a38c9b54b3d21fe8b4df5"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classasylo_1_1primitives_1_1Client.html#ada6c3b37726a38c9b54b3d21fe8b4df5">RegisterMemory</a> (void *mem)</td></tr>
<tr class="memdesc:ada6c3b37726a38c9b54b3d21fe8b4df5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register memory to be freed upon enclave destruction.  <a href="#ada6c3b37726a38c9b54b3d21fe8b4df5">More...</a><br /></td></tr>
<tr class="separator:ada6c3b37726a38c9b54b3d21fe8b4df5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a081af6196a1d07d6a41aaaab6b8ce56b"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classasylo_1_1primitives_1_1Client.html#a081af6196a1d07d6a41aaaab6b8ce56b">ReleaseMemory</a> ()</td></tr>
<tr class="memdesc:a081af6196a1d07d6a41aaaab6b8ce56b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees enclave resources registered to the client.  <a href="#a081af6196a1d07d6a41aaaab6b8ce56b">More...</a><br /></td></tr>
<tr class="separator:a081af6196a1d07d6a41aaaab6b8ce56b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:aed9717c73093e4e91321711f2a722e85"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classasylo_1_1primitives_1_1Client.html">Client</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classasylo_1_1primitives_1_1Client.html#aed9717c73093e4e91321711f2a722e85">GetCurrentClient</a> ()</td></tr>
<tr class="memdesc:aed9717c73093e4e91321711f2a722e85"><td class="mdescLeft">&#160;</td><td class="mdescRight">A static getter for the current client.  <a href="#aed9717c73093e4e91321711f2a722e85">More...</a><br /></td></tr>
<tr class="separator:aed9717c73093e4e91321711f2a722e85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ee86d9ce60659a9093c192c8d0aecc5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classasylo_1_1primitives_1_1PrimitiveStatus.html">PrimitiveStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classasylo_1_1primitives_1_1Client.html#a9ee86d9ce60659a9093c192c8d0aecc5">ExitCallback</a> (uint64_t untrusted_selector, MessageReader *in, MessageWriter *out)</td></tr>
<tr class="memdesc:a9ee86d9ce60659a9093c192c8d0aecc5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enclave exit callback function shared with the enclave.  <a href="#a9ee86d9ce60659a9093c192c8d0aecc5">More...</a><br /></td></tr>
<tr class="separator:a9ee86d9ce60659a9093c192c8d0aecc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:aee078eadac9429bc994c04eabbfd08da"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classasylo_1_1primitives_1_1Client.html#aee078eadac9429bc994c04eabbfd08da">Client</a> (const absl::string_view name, std::unique_ptr&lt; <a class="el" href="classasylo_1_1primitives_1_1Client_1_1ExitCallProvider.html">ExitCallProvider</a> &gt; <a class="el" href="classasylo_1_1primitives_1_1Client.html#a26e2442b1b04aef8314beb267e5389f2">exit_call_provider</a>)</td></tr>
<tr class="memdesc:aee078eadac9429bc994c04eabbfd08da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a client, reserved for only backend implementations.  <a href="#aee078eadac9429bc994c04eabbfd08da">More...</a><br /></td></tr>
<tr class="separator:aee078eadac9429bc994c04eabbfd08da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21257f3aa485f7f091d7b466bf958bc1"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classasylo_1_1Status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classasylo_1_1primitives_1_1Client.html#a21257f3aa485f7f091d7b466bf958bc1">EnclaveCallInternal</a> (uint64_t selector, MessageWriter *input, MessageReader *output) ASYLO_MUST_USE_RESULT=0</td></tr>
<tr class="memdesc:a21257f3aa485f7f091d7b466bf958bc1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provides implementation of EnclaveCall.  <a href="#a21257f3aa485f7f091d7b466bf958bc1">More...</a><br /></td></tr>
<tr class="separator:a21257f3aa485f7f091d7b466bf958bc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A reference to an enclave held by untrusted code. </p>
<p>This declares the primitive API exposed to untrusted application code by the Asylo runtime. Each Asylo backend is responsible for providing an implementation of this interface. To support multiple implementations, the interface defines a generic "Enclave Backend" concept which every backend must implement. An enclave backend is a structure compatible with:</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span>EnclaveBackend {</div><div class="line">  <span class="comment">// Load an enclave, returning a Client or error status.</span></div><div class="line">  <span class="keyword">static</span> StatusOr&lt;std::shared_ptr&lt;Client&gt;&gt; Load(...);</div><div class="line">};</div></div><!-- fragment --> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a96ed27595ce58d034fc50a29d5fca9d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96ed27595ce58d034fc50a29d5fca9d6">&#9670;&nbsp;</a></span>~Client()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual asylo::primitives::Client::~Client </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aee078eadac9429bc994c04eabbfd08da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee078eadac9429bc994c04eabbfd08da">&#9670;&nbsp;</a></span>Client()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">asylo::primitives::Client::Client </td>
          <td>(</td>
          <td class="paramtype">const absl::string_view&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classasylo_1_1primitives_1_1Client_1_1ExitCallProvider.html">ExitCallProvider</a> &gt;&#160;</td>
          <td class="paramname"><em>exit_call_provider</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs a client, reserved for only backend implementations. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The name of the enclave. </td></tr>
    <tr><td class="paramname">exit_call_provider</td><td>A pointer an <a class="el" href="classasylo_1_1primitives_1_1Client_1_1ExitCallProvider.html" title="An interface to a provider of enclave exit calls. ">ExitCallProvider</a> that the <a class="el" href="classasylo_1_1primitives_1_1Client.html" title="A reference to an enclave held by untrusted code. ">Client</a> takes ownership of. The provider is the source of all <code><a class="el" href="structasylo_1_1primitives_1_1ExitHandler.html" title="Callback structure for dispatching messages from the enclave. ">ExitHandler</a></code>s. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a7835fe159260bad7d9928fd16214058c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7835fe159260bad7d9928fd16214058c">&#9670;&nbsp;</a></span>Destroy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classasylo_1_1Status.html">Status</a> asylo::primitives::Client::Destroy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a8e147a8b696d50b98ea4cefe56c90b82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e147a8b696d50b98ea4cefe56c90b82">&#9670;&nbsp;</a></span>EnclaveCall()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classasylo_1_1Status.html">Status</a> asylo::primitives::Client::EnclaveCall </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>selector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MessageWriter *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MessageReader *&#160;</td>
          <td class="paramname"><em>output</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enters the enclave synchronously at an entry point to trusted code designated by <code>selector</code>. </p>
<p>Input <code>input</code> is copied into the enclave, which may occur locally inside the same address space as the caller or remotely via RPC. Conversely, results are copied and returned in 'output'.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">selector</td><td>The identification number to select a registered handler in the enclave. </td></tr>
    <tr><td class="paramname">input</td><td>A pointer to a MessageWriter, into which all call inputs must be pushed. </td></tr>
    <tr><td class="paramname">output</td><td>A pointer to a MessageReader from which to read outputs from the call. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A status for the call action, since the call itself may fail. </dd></dl>

</div>
</div>
<a id="a21257f3aa485f7f091d7b466bf958bc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21257f3aa485f7f091d7b466bf958bc1">&#9670;&nbsp;</a></span>EnclaveCallInternal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classasylo_1_1Status.html">Status</a> asylo::primitives::Client::EnclaveCallInternal </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>selector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MessageWriter *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MessageReader *&#160;</td>
          <td class="paramname"><em>output</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Provides implementation of EnclaveCall. </p>
<p>This method is virtual for backends to override. The public EnclaveCall method provides necessary boilerplate around each call to this implementation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">selector</td><td>The identification number to select a registered handler in the enclave. </td></tr>
    <tr><td class="paramname">input</td><td>A pointer to a MessageWriter, into which all call inputs must be pushed. </td></tr>
    <tr><td class="paramname">output</td><td>A pointer to a MessageReader from which to read outputs from the call. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A status for the call action, since the call itself may fail. </dd></dl>

</div>
</div>
<a id="a26e2442b1b04aef8314beb267e5389f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26e2442b1b04aef8314beb267e5389f2">&#9670;&nbsp;</a></span>exit_call_provider()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classasylo_1_1primitives_1_1Client_1_1ExitCallProvider.html">ExitCallProvider</a>* asylo::primitives::Client::exit_call_provider </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Accessor to the client's exit call provider. </p>
<dl class="section return"><dt>Returns</dt><dd>A mutable pointer to the client's <a class="el" href="classasylo_1_1primitives_1_1Client_1_1ExitCallProvider.html" title="An interface to a provider of enclave exit calls. ">ExitCallProvider</a>. </dd></dl>

</div>
</div>
<a id="a9ee86d9ce60659a9093c192c8d0aecc5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ee86d9ce60659a9093c192c8d0aecc5">&#9670;&nbsp;</a></span>ExitCallback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classasylo_1_1primitives_1_1PrimitiveStatus.html">PrimitiveStatus</a> asylo::primitives::Client::ExitCallback </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>untrusted_selector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MessageReader *&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MessageWriter *&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Enclave exit callback function shared with the enclave. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">untrusted_selector</td><td>The identification number to select a registered handler in the current client. </td></tr>
    <tr><td class="paramname">in</td><td>A pointer to a MessageReader, from which all inputs are read. </td></tr>
    <tr><td class="paramname">out</td><td>A pointer to a MessageWriter, into which all call outputs are written. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <a class="el" href="classasylo_1_1primitives_1_1PrimitiveStatus.html" title="Shared representation of a status code across the enclave boundary. ">PrimitiveStatus</a> for the call action, since the call itself may fail. </dd></dl>

</div>
</div>
<a id="aed9717c73093e4e91321711f2a722e85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed9717c73093e4e91321711f2a722e85">&#9670;&nbsp;</a></span>GetCurrentClient()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classasylo_1_1primitives_1_1Client.html">Client</a>* asylo::primitives::Client::GetCurrentClient </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A static getter for the current client. </p>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the active thread's current client. </dd></dl>

</div>
</div>
<a id="afbaea700c89a7064bbc3148e5607d577"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbaea700c89a7064bbc3148e5607d577">&#9670;&nbsp;</a></span>IsClosed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool asylo::primitives::Client::IsClosed </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A predicate for whether the enclave may be entered or will accept messages. </p>
<dl class="section return"><dt>Returns</dt><dd>True if the enclave has been destroyed, or if it is marked for destruction pending the completion of an operation by another thread. </dd></dl>

</div>
</div>
<a id="a13b445fb6c5b8d7f822bee216555472e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13b445fb6c5b8d7f822bee216555472e">&#9670;&nbsp;</a></span>Name()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual absl::string_view asylo::primitives::Client::Name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A getter for the enclave name. </p>
<p>Enclave names are used for fetching client instances from the enclave manager.</p>
<dl class="section return"><dt>Returns</dt><dd>The name of the enclave. </dd></dl>

</div>
</div>
<a id="ad13f0b5753af3a8733d3158f4c1655f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad13f0b5753af3a8733d3158f4c1655f9">&#9670;&nbsp;</a></span>RegisterExitHandlers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classasylo_1_1Status.html">Status</a> asylo::primitives::Client::RegisterExitHandlers </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>An overridable handler registration method. </p>
<p>This allows backend implementations to register special-purpose exit handlers that might only be appropriate to that backend. The default implementation registers nothing and returns Ok.</p>
<dl class="section return"><dt>Returns</dt><dd>An error on failure, or Ok. </dd></dl>

</div>
</div>
<a id="ada6c3b37726a38c9b54b3d21fe8b4df5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada6c3b37726a38c9b54b3d21fe8b4df5">&#9670;&nbsp;</a></span>RegisterMemory()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void asylo::primitives::Client::RegisterMemory </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>mem</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Register memory to be freed upon enclave destruction. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mem</td><td>A pointer to be passed to free on enclave exit. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a081af6196a1d07d6a41aaaab6b8ce56b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a081af6196a1d07d6a41aaaab6b8ce56b">&#9670;&nbsp;</a></span>ReleaseMemory()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void asylo::primitives::Client::ReleaseMemory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Frees enclave resources registered to the client. </p>

</div>
</div>
<a id="a6b228b4b1961083c2a0f47165d80793a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b228b4b1961083c2a0f47165d80793a">&#9670;&nbsp;</a></span>SetCurrentClient()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void asylo::primitives::Client::SetCurrentClient </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stores <code>this</code> as the active thread's "current client". </p>
<p>This should only be called if an enclave entry happens without going through a regular enclave entry point (like a fork from inside the enclave). </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>asylo/platform/primitives/<a class="el" href="untrusted__primitives_8h_source.html">untrusted_primitives.h</a></li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<hr class="footer"/>
</body>
</html>
